<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <title>Posts | Axiomaster&#39;s Site</title>
    <meta property="og:title" content="Posts - Axiomaster&#39;s Site">
    <meta property="og:type" content="article">
        
        
    <meta name="Keywords" content="">
    <meta name="description" content="Posts">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://axiomaster.github.io/post/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml" href="https://axiomaster.github.io/post/index.xml" title="Axiomaster's Site" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://axiomaster.github.io">
                        Axiomaster&#39;s Site
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://axiomaster.github.io">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://axiomaster.github.io/post/2020-01-07-aosp/" title="aosp源码编译与阅读">aosp源码编译与阅读</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年1月7日
        </date>
        
        <div class="post-content">
            下载源码 国内从google下载aosp源码需要翻墙，很不方便。可以使用清华大学开源软件镜像站提供的镜像地址进行下载,同步代码.
下载,检出代码按照清华镜像站的地址说明一步步操作就可以了.
可能的错误  初始化包比较大,下载后记得进行md5校验. 使用迅雷中断后续传,发现md5值不匹配,推荐使用uget之类的工具在晚上下载,一次成功.  aosp编译 官方指导
 建立编译环境 编译 Android  编译很简单, aosp源码中prebuilts目录下集成了所有编译会用到的工具,包括clang, jdk等,不需要额外下载. 编译脚本只支持python2,环境上安装一下python2就可以了.
在Ubuntu 18.04上使用如下步骤进行编译:
设置环境变量等 source build/envsetup.sh 设置编译目标版本 lism@lism-u18:~/android/aosp$ lunch aosp_x86_64-eng ============================================ PLATFORM_VERSION_CODENAME=R PLATFORM_VERSION=R TARGET_PRODUCT=aosp_x86_64 TARGET_BUILD_VARIANT=eng TARGET_BUILD_TYPE=release TARGET_ARCH=x86_64 TARGET_ARCH_VARIANT=x86_64 TARGET_2ND_ARCH=x86 TARGET_2ND_ARCH_VARIANT=x86_64 HOST_ARCH=x86_64 HOST_2ND_ARCH=x86 HOST_OS=linux HOST_OS_EXTRA=Linux-5.0.0-37-generic-x86_64-Ubuntu-18.04.3-LTS HOST_CROSS_OS=windows HOST_CROSS_ARCH=x86 HOST_CROSS_2ND_ARCH=x86_64 HOST_BUILD_TYPE=release BUILD_ID=QD1A.190821.011 OUT_DIR=out ============================================ 如果不清楚需要输入什么版本, 输入lunch后会自动列出支持的版本信息.
lism@lism-u18:~/android/aosp$ lunch You&#39;re building on Linux Lunch menu... pick a combo: 1. aosp_arm-eng 2. aosp_arm64-eng 3. aosp_blueline-userdebug 4. aosp_bonito-userdebug 5.……
        </div>
        <p class="readmore"><a href="https://axiomaster.github.io/post/2020-01-07-aosp/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://axiomaster.github.io/post/2020-01-07-zygote/" title="Android启动分析">Android启动分析</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年1月7日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://axiomaster.github.io/post/2020-01-07-zygote/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://axiomaster.github.io/post/2020-01-09-activity/" title="activity、window、view和surface">activity、window、view和surface</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年1月7日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://axiomaster.github.io/post/2020-01-09-activity/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://axiomaster.github.io/post/2020-01-05-io/" title="I/O模型">I/O模型</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年1月5日
        </date>
        
        <div class="post-content">
            I/O处理过程 系统调用 操作系统出于安全的考虑，将进程的内存空间划分为用户空间(0~3G)和内核空间(3-4G)。进程在执行用户自己的代码时处于用户态(ring3); 当用户代码需要操作系统资源时, 可以通过调用操作系统提供的标准接口(POSIX)进行访问, 此时进程从用户态切换到内核态. 操作系统提供的这些接口称为系统调用.
使用top命令时, Cpu后面的us就对应用户态使用的cpu, sy就对应内核态使用的cpu.
%Cpu(s): 1.2 us, 0.7 sy, 0.0 ni, 98.0 id, 0.1 wa, 0.0 hi, 0.0 si, 0.0 st 硬盘, 网卡等等这些设备, 用户代码都是无法直接访问的, 需要通过操作系统提供的标准系统调用进行访问. 对于linux系统, 将所有的设备都抽象成文件, 因此, 对于这些设备的访问都可以归类为IO操作.
文件读取过程 用户程序读取磁盘或网卡上的数据, 执行read系统调用时可以分为2个过程:
  操作系统需要将磁盘或网卡上的数据先拷贝到内核缓冲区
  操作系统再将内核缓冲区的数据拷贝到用户缓冲区
  内核缓冲区 我们知道, 硬盘等外设因为硬件原因, 读写相对内存来说是要慢几个数量级的. 如果内核一有数据就立即写入磁盘, 就需要频繁的调用驱动的硬件.操作系统为了提高与硬件交互的效率, 并不会一有数据就立即写入, 而是等攒够一些数据之后再批量写入.
因此, 内核缓冲区时为了减少内核与外部硬件交互的次数.
用户缓冲区 操作系统进行系统调用是有一定开销的, 而且相对开销很大. 回想读取文件时, 我们都会先申请一个buffer数组, 然后循环每次read len大小的数据, 之后代码对buffer内容进行处理.
这么做的原因是为了避免频繁的进行系统调用. 关于len为什么取1024或4096, &laquo;UNIX环境高级编程&raquo;中专门有讨论, 这个取值是基于统计分析出来的最佳大小.
因此, 用户缓冲区是为了减少系统调用次数.……
        </div>
        <p class="readmore"><a href="https://axiomaster.github.io/post/2020-01-05-io/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://axiomaster.github.io/post/2020-01-05-looper/" title="Handler和Looper">Handler和Looper</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年1月5日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://axiomaster.github.io/post/2020-01-05-looper/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://axiomaster.github.io/post/2020-01-05-handler/" title="Handler和Looper">Handler和Looper</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年1月5日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://axiomaster.github.io/post/2020-01-05-handler/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://axiomaster.github.io/post/2019-12-31-makeup-computer/" title="自己动手组装台式机">自己动手组装台式机</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年12月31日
        </date>
        
        <div class="post-content">
            双十一买了一个34'的21:9超宽屏显示器，回来之后接上笔记本，越来越觉得笔记本有点儿带不动。正好最近学习android需要编译aosp， 然后就研究了一下攒机，预算3000，组一台linux编译机。于是趁着双十二买了一堆零件自己组了一台电脑。
配置单 先说说最终的配置：
   配件 型号 价格     CPU ryzen 3700x    主板 MSI B450M mortar max 主板+CPU套装 ￥2514   内存 海盗船 DDR4 3600MHz 16G x 2 ￥1038   固态硬盘 阿斯加特 M.2 NVMe 500G ￥343   显卡 二手铭暄 GTX 960 2G ￥399   电源 酷冷至尊 MWE 550 铜牌 ￥312   机箱 先马 征途 中塔机箱 送5把RGB机箱风扇 ￥164   显示器 小米 34&rsquo; 曲面显示器 ￥1999   无线网卡 腾达U10 USB无线网卡 ￥59   dp线 绿联 DP 1.……
        </div>
        <p class="readmore"><a href="https://axiomaster.github.io/post/2019-12-31-makeup-computer/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://axiomaster.github.io/post/2019-08-11-debugger-golang3/" title="Making debugger for Golang">Making debugger for Golang</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月11日
        </date>
        
        <div class="post-content">
            转载自 Making debugger for Golang (part III)
 So far we’ve learned how to single-step ptraced process (tracee) and get some debugging info out of binary (read it here if you haven’t done it yet). Now it’s time to set a breakpoint at desired place, wait until reached and then investigate process state.
Let’s start with assembly code used before:
section .data msg db &quot;hello, world!&quot;, 0xA len equ $ - msg section .……
        </div>
        <p class="readmore"><a href="https://axiomaster.github.io/post/2019-08-11-debugger-golang3/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://axiomaster.github.io/post/2019-08-11-debugger-golang2/" title="Making debugger for Golang">Making debugger for Golang</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月11日
        </date>
        
        <div class="post-content">
            转载自 Making debugger for Golang (part II)
 During the first part we’ve bootstrapped development environment and made a simple program (tracer) which stops child process (tracee) at the very beginning and then continues it execution together with showing its standard output. Now it’s time to extend its basic capabilities.
Usually debuggers allow to single-step through debugged program. It can be done using ptrace PTRACE_SINGLESTEP request which tells tracee to stop after execution of single instruction:……
        </div>
        <p class="readmore"><a href="https://axiomaster.github.io/post/2019-08-11-debugger-golang2/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://axiomaster.github.io/post/2019-08-11-debugger-golang/" title="Making debugger for Golang">Making debugger for Golang</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月11日
        </date>
        
        <div class="post-content">
            转载自 Making debugger for Golang (part I)
 The goal of this series is not to write full-featured debugger for Go programming language. If you’re looking for some then please take a look at Delve. We’ll try to understand here how debuggers work in general and how to implement basic one on Linux which takes into account Golang’s features like goroutines.
Creating debugger isn’t easy though. We won’t even strive to cover this topic within a single story.……
        </div>
        <p class="readmore"><a href="https://axiomaster.github.io/post/2019-08-11-debugger-golang/">阅读全文</a></p>
    </article>
    
    
    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://axiomaster.github.io/post/page/2/">上一页</a>
    </li>
    

    
    <li >
        <a href="https://axiomaster.github.io/post/">1</a>
    </li>
    
    <li >
        <a href="https://axiomaster.github.io/post/page/2/">2</a>
    </li>
    
    <li  class="current">
        <a href="https://axiomaster.github.io/post/page/3/">3</a>
    </li>
    
    <li >
        <a href="https://axiomaster.github.io/post/page/4/">4</a>
    </li>
    
    <li >
        <a href="https://axiomaster.github.io/post/page/5/">5</a>
    </li>
    
    <li >
        <a href="https://axiomaster.github.io/post/page/6/">6</a>
    </li>
    
    <li >
        <a href="https://axiomaster.github.io/post/page/7/">7</a>
    </li>
    
    <li >
        <a href="https://axiomaster.github.io/post/page/8/">8</a>
    </li>
    

    
    <li class="next">
        <a href="https://axiomaster.github.io/post/page/4/">下一页</a>
    </li>
    
</ol>



</div>

                    <footer id="footer">
    <div>
        &copy; 2022 <a href="https://axiomaster.github.io">Axiomaster&#39;s Site By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>






                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='//www.google.com/search' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://axiomaster.github.io">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://axiomaster.github.io/post/2022-01-08-c-language-addition/" title="c语言补充说明">c语言补充说明</a>
    </li>
    
    <li>
        <a href="https://axiomaster.github.io/post/2022-01-08-interrupt/" title="中断">中断</a>
    </li>
    
    <li>
        <a href="https://axiomaster.github.io/post/2022-01-01-c-language/" title="引入c语言">引入c语言</a>
    </li>
    
    <li>
        <a href="https://axiomaster.github.io/post/2021-12-26-protected_mode-addition/" title="保护模式补充">保护模式补充</a>
    </li>
    
    <li>
        <a href="https://axiomaster.github.io/post/2021-12-19-page/" title="内存分页">内存分页</a>
    </li>
    
    <li>
        <a href="https://axiomaster.github.io/post/2021-12-18-protected_mode/" title="保护模式">保护模式</a>
    </li>
    
    <li>
        <a href="https://axiomaster.github.io/post/2021-12-04-os-loader-addition/" title="确认软盘内容执行">确认软盘内容执行</a>
    </li>
    
    <li>
        <a href="https://axiomaster.github.io/post/2021-11-22-os-loader/" title="读取并执行软盘内容">读取并执行软盘内容</a>
    </li>
    
    <li>
        <a href="https://axiomaster.github.io/post/2021-11-21-os-boot-addition/" title="启动补充说明">启动补充说明</a>
    </li>
    
    <li>
        <a href="https://axiomaster.github.io/post/2021-11-17-os-boot/" title="从上电到引导扇区">从上电到引导扇区</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/categories/'>分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="https://axiomaster.github.io/tags/activity/">activity</a>
    
    <a href="https://axiomaster.github.io/tags/algorithm/">algorithm</a>
    
    <a href="https://axiomaster.github.io/tags/android/">android</a>
    
    <a href="https://axiomaster.github.io/tags/aosp/">aosp</a>
    
    <a href="https://axiomaster.github.io/tags/bazel/">bazel</a>
    
    <a href="https://axiomaster.github.io/tags/bug/">bug</a>
    
    <a href="https://axiomaster.github.io/tags/debug/">debug</a>
    
    <a href="https://axiomaster.github.io/tags/debugger/">debugger</a>
    
    <a href="https://axiomaster.github.io/tags/docker/">docker</a>
    
    <a href="https://axiomaster.github.io/tags/golang/">golang</a>
    
    <a href="https://axiomaster.github.io/tags/gradle/">Gradle</a>
    
    <a href="https://axiomaster.github.io/tags/i/o/">I/O</a>
    
    <a href="https://axiomaster.github.io/tags/idea%E6%8F%92%E4%BB%B6/">IDEA插件</a>
    
    <a href="https://axiomaster.github.io/tags/java/">java</a>
    
    <a href="https://axiomaster.github.io/tags/linux/">linux</a>
    
    <a href="https://axiomaster.github.io/tags/ml/">ML</a>
    
    <a href="https://axiomaster.github.io/tags/net/">net</a>
    
    <a href="https://axiomaster.github.io/tags/nginx/">nginx</a>
    
    <a href="https://axiomaster.github.io/tags/os/">OS</a>
    
    <a href="https://axiomaster.github.io/tags/tensorflow/">Tensorflow</a>
    
    <a href="https://axiomaster.github.io/tags/tool/">tool</a>
    
    <a href="https://axiomaster.github.io/tags/view/">view</a>
    
    <a href="https://axiomaster.github.io/tags/window/">window</a>
    
    <a href="https://axiomaster.github.io/tags/zookeeper/">zookeeper</a>
    
    <a href="https://axiomaster.github.io/tags/zygote/">zygote</a>
    
    <a href="https://axiomaster.github.io/tags/%E5%86%85%E5%AD%98/">内存</a>
    
    <a href="https://axiomaster.github.io/tags/%E5%90%90%E6%A7%BD/">吐槽</a>
    
    <a href="https://axiomaster.github.io/tags/%E5%B7%A5%E5%85%B7/">工具</a>
    
    <a href="https://axiomaster.github.io/tags/%E5%B9%B6%E5%8F%91/">并发</a>
    
    <a href="https://axiomaster.github.io/tags/%E6%89%8B%E5%B7%A5/">手工</a>
    
    <a href="https://axiomaster.github.io/tags/%E6%89%AF%E6%B7%A1/">扯淡</a>
    
    <a href="https://axiomaster.github.io/tags/%E6%97%A5%E5%B8%B8/">日常</a>
    
    <a href="https://axiomaster.github.io/tags/%E7%94%9F%E6%B4%BB/">生活</a>
    
    <a href="https://axiomaster.github.io/tags/%E7%A5%9E%E5%A5%87%E7%9A%84bug/">神奇的bug</a>
    
    <a href="https://axiomaster.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a>
    
    <a href="https://axiomaster.github.io/tags/%E8%AF%81%E4%B9%A6/">证书</a>
    
    <a href="https://axiomaster.github.io/tags/%E9%93%BE%E6%8E%A5/">链接</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://axiomaster.github.io/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>